{"version":3,"sources":["webpack:///webpack/bootstrap 429e376a50125a96dbc1","webpack:///./src/ts/core/toolkit.ts","webpack:///./src/ts/main.ts","webpack:///./src/ts/core/local.ts","webpack:///./src/ts/ui/game.ts","webpack:///./src/ts/ui/squareFactory.ts","webpack:///./src/ts/core/square.ts"],"names":["Object","defineProperty","exports","value","Toolkit","MatrixToolkit","makeRow","v","l","arr","Array","fill","makeMatrix","l1","l2","from","length","turnMatrix","matrix","_matrix","w","h","map","rV","rI","cV","cI","default","local_1","require","local","score","time","setInterval","$","text","Math","floor","game","lose","socket","emit","win","gameover","gameMatrix","next","nextMatrix","on","data","remote","refreshGame","count","show","game_1","Local","_game","_remote","bindEvent","_socket","io","hide","remoteName","init","loop","start","onWin","onLose","disturb","document","e","keyCode","currentSquare","turn","left","right","down","drop","bindStart","name","val","id","addClass","squareFactory_1","toolkit_1","square_1","Game","user","_user","_speed","_score","_start","_gameOver","_win","_lose","_gameMatrix","_nextMatrix","_currentSquare","build","refreshNext","status","leftWall","rightWall","forEach","checkDown","y","x","checkClear","refresh","done","_gameSquare","_nextSquare","result","matrixObj","has_done","score_count","done_count","splice","unshift","clearInterval","_timer","i","shift","random","push","bool","SquareFactory","$contain","_contain","empty","row","rowIndex","rowDiv","col","colIndex","colDiv","css","top","removeClass","append","div","find","Square","_x","_y","createMatrix","checkTurn","_leftWall","_rightWall","matrixes","able"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 429e376a50125a96dbc1","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Toolkit {\r\n    static get matrix() {\r\n        return MatrixToolkit;\r\n    }\r\n}\r\nexports.Toolkit = Toolkit;\r\n/**\r\n * 生成矩阵工具类\r\n * @type {{}}\r\n */\r\nconst MatrixToolkit = {\r\n    /**\r\n     * 生成一维数组工具\r\n     * @param {number} v  值\r\n     * @param {number} l  长度\r\n     * @returns {number[]}\r\n     */\r\n    makeRow(v = 0, l = 10) {\r\n        const arr = new Array(l);\r\n        arr.fill(v);\r\n        return arr;\r\n    },\r\n    /**\r\n     * 生成二位数组矩阵工具\r\n     * @param {number} v 值\r\n     * @param {number} l1 横向长度\r\n     * @param {number} l2 纵向长度\r\n     * @returns {number[][]}\r\n     */\r\n    makeMatrix(v = 0, l1 = 10, l2 = 20) {\r\n        // const arr = new Array(l2);\r\n        // arr.map(value => this.makeRow(v,l1));\r\n        const arr = Array.from({ length: l2 }, () => this.makeRow(v, l1));\r\n        return arr;\r\n    },\r\n    /**\r\n     * 矩阵顺时针旋转90°解决方案\r\n     * @param {number[][]} matrix\r\n     * @returns {number[][]}\r\n     */\r\n    turnMatrix(matrix) {\r\n        let _matrix = {\r\n            matrix: this.makeMatrix(0, 4, 4),\r\n            w: 0,\r\n            h: 0\r\n        };\r\n        _matrix.matrix = _matrix.matrix.map((rV, rI) => rV.map((cV, cI) => matrix.matrix[3 - cI][rI]));\r\n        _matrix.w = matrix.h;\r\n        _matrix.h = matrix.w;\r\n        return _matrix;\r\n    }\r\n};\r\nexports.default = Toolkit;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/core/toolkit.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst local_1 = require(\"./core/local\");\r\nconst local = new local_1.default();\r\nlet score = 0;\r\nlet time = 0;\r\nsetInterval(() => {\r\n    time += 0.1;\r\n    $('#m').text(Math.floor(time / 60) < 10 ? '0' + Math.floor(time / 60) : Math.floor(time / 60));\r\n    $('#s').text(time % 60 < 10 ? '0' + Math.floor(time % 60) : Math.floor(time % 60));\r\n    if (local.game.lose) {\r\n        local.socket.emit('lose');\r\n        local.game.lose = false;\r\n    }\r\n    if (local.game.win) {\r\n        local.socket.emit('win');\r\n        local.game.win = false;\r\n    }\r\n    if (!local.game.gameover) {\r\n        local.socket.emit('playing', { game: local.game.gameMatrix, next: local.game.nextMatrix });\r\n        local.socket.on('playing', (data) => {\r\n            local.remote.refreshGame(data.game, data.next);\r\n        });\r\n    }\r\n    if (score !== local.game.score) {\r\n        const count = (local.game.score - score) / 10;\r\n        local.socket.emit('disturb', { count: count });\r\n        score = local.game.score;\r\n    }\r\n}, 1000);\r\n$('#panel-name').show();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/main.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst game_1 = require(\"../ui/game\");\r\nclass Local {\r\n    constructor() {\r\n        this._game = new game_1.default('local');\r\n        this._remote = new game_1.default('remote');\r\n        this.bindEvent();\r\n        this._socket = io('http://192.168.50.124:3000');\r\n        this._socket.on('start', (data) => {\r\n            $('#prepare').hide();\r\n            $('#win').hide();\r\n            $('#lose').hide();\r\n            $('#name-remote').text(data.remoteName);\r\n            this._game.init();\r\n            this._remote.init();\r\n            this._game.loop();\r\n            this._game.start = true;\r\n        });\r\n        this._socket.on('win', () => {\r\n            this._game.onWin();\r\n        });\r\n        this._socket.on('lose', () => {\r\n            this._game.onLose();\r\n        });\r\n        this._socket.on('disturb', (data) => {\r\n            this._game.disturb(data.count);\r\n        });\r\n    }\r\n    get game() {\r\n        return this._game;\r\n    }\r\n    get socket() {\r\n        return this._socket;\r\n    }\r\n    get remote() {\r\n        return this._remote;\r\n    }\r\n    /**\r\n     * 绑定键盘事件\r\n     */\r\n    bindEvent() {\r\n        $(document).on('keydown', e => {\r\n            if (this._game.gameover) {\r\n                return;\r\n            }\r\n            if (e.keyCode === 38) {\r\n                this._game.currentSquare.turn(this._game);\r\n            }\r\n            else if (e.keyCode === 37) {\r\n                this._game.currentSquare.left();\r\n            }\r\n            else if (e.keyCode === 39) {\r\n                this._game.currentSquare.right();\r\n            }\r\n            else if (e.keyCode === 40) {\r\n                this._game.currentSquare.down();\r\n            }\r\n            else if (e.keyCode === 32) {\r\n                this._game.currentSquare.drop(this._game);\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            this._game.refreshGame();\r\n        });\r\n        this.bindStart('start');\r\n        this.bindStart('win-again');\r\n        this.bindStart('lose-again');\r\n        $('#btn-name').on('click', () => {\r\n            const name = $('#ipt-name').val();\r\n            if (!!name) {\r\n                $('#name-local').text(name);\r\n            }\r\n            this._socket.emit('nickname', { name: name });\r\n            $('#panel-name').hide();\r\n            $('#prepare').show();\r\n        });\r\n    }\r\n    /**\r\n     * 绑定开始游戏事件工具\r\n     * @param {string} id\r\n     */\r\n    bindStart(id) {\r\n        $('#' + id).on('click', () => {\r\n            $('#' + id).addClass('disabled');\r\n            $('#' + id).text('等待对手确认...');\r\n            //TODO 点击准备按钮发送准备\r\n            this._socket.emit('start', {});\r\n        });\r\n    }\r\n    ;\r\n}\r\nexports.default = Local;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/core/local.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst squareFactory_1 = require(\"./squareFactory\");\r\nconst toolkit_1 = require(\"../core/toolkit\");\r\nconst square_1 = require(\"../core/square\");\r\n/**\r\n * 生成游戏解决方案\r\n */\r\nclass Game {\r\n    constructor(user) {\r\n        this._user = user;\r\n        this._speed = 1000;\r\n    }\r\n    get currentSquare() {\r\n        return this._currentSquare;\r\n    }\r\n    get gameover() {\r\n        return this._gameOver;\r\n    }\r\n    set gameover(bool) {\r\n        this._gameOver = bool;\r\n    }\r\n    set start(bool) {\r\n        this._start = bool;\r\n    }\r\n    get win() {\r\n        return this._win;\r\n    }\r\n    set win(bool) {\r\n        this._win = bool;\r\n    }\r\n    get lose() {\r\n        return this._lose;\r\n    }\r\n    set lose(bool) {\r\n        this._lose = bool;\r\n    }\r\n    get gameMatrix() {\r\n        return this._gameMatrix;\r\n    }\r\n    get nextMatrix() {\r\n        return this._nextMatrix;\r\n    }\r\n    get score() {\r\n        return this._score;\r\n    }\r\n    /**\r\n     * 初始化游戏\r\n     */\r\n    init() {\r\n        this._score = 0;\r\n        this._start = false;\r\n        this._gameOver = false;\r\n        this._win = false;\r\n        this._lose = false;\r\n        $('#score-' + this._user).text(this._score);\r\n        this._gameMatrix = toolkit_1.default.matrix.makeMatrix(0, 10, 20);\r\n        this._nextMatrix = toolkit_1.default.matrix.makeMatrix(0, 4, 4);\r\n        this._currentSquare = new square_1.default();\r\n        this._nextMatrix = this._currentSquare.nextMatrix;\r\n        this.build();\r\n        this.refreshGame();\r\n        this.refreshNext(this._currentSquare.nextMatrix);\r\n    }\r\n    /**\r\n     * 刷新主体\r\n     */\r\n    refreshGame(gameMatrix = toolkit_1.default.matrix.makeMatrix(0, 10, 20), nextMatrix = toolkit_1.default.matrix.makeMatrix(0, 4, 4)) {\r\n        if (this._user === 'local') {\r\n            let status = 1;\r\n            let left = 3; //方块最左侧位置\r\n            let right = 0; //方块最右侧位置\r\n            this._currentSquare.leftWall = false;\r\n            this._currentSquare.rightWall = false;\r\n            //重置面板\r\n            this._gameMatrix.forEach((rV, rI) => rV.forEach((cV, cI) => {\r\n                if (cV === 1) {\r\n                    this._gameMatrix[rI][cI] = 0;\r\n                }\r\n            }));\r\n            if (!this.checkDown()) {\r\n                status = 2;\r\n            }\r\n            //渲染方块所在位置\r\n            this._currentSquare.matrix.forEach((rV, rI) => {\r\n                rV.forEach((cV, cI) => {\r\n                    if (cV) {\r\n                        if (this._gameMatrix[this._currentSquare.y + rI]) {\r\n                            this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI] = status;\r\n                        }\r\n                        right = cI > right ? cI : right;\r\n                        left = cI < left ? cI : left;\r\n                        //监测是否出界\r\n                        if ((this._gameMatrix[this._currentSquare.y + rI] &&\r\n                            this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI - 1] &&\r\n                            this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI - 1] === 2) ||\r\n                            this._currentSquare.x + left <= 0) {\r\n                            this._currentSquare.leftWall = true;\r\n                        }\r\n                        if ((this._gameMatrix[this._currentSquare.y + rI] &&\r\n                            this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI + 1] &&\r\n                            this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI + 1] === 2) ||\r\n                            this._currentSquare.x + right >= 9) {\r\n                            this._currentSquare.rightWall = true;\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            this.checkClear();\r\n            this.refresh(1);\r\n            if (status === 2) {\r\n                this._currentSquare.done();\r\n                this.refreshNext(this._currentSquare.nextMatrix);\r\n            }\r\n        }\r\n        else {\r\n            this._gameMatrix = gameMatrix;\r\n            this.refresh(1);\r\n            this._nextMatrix = nextMatrix;\r\n            this.refresh(2);\r\n        }\r\n    }\r\n    /**\r\n     * 刷新预览\r\n     * @param {number[][]} nextMatrix\r\n     */\r\n    refreshNext(nextMatrix) {\r\n        this._nextMatrix = nextMatrix;\r\n        this.refresh(2);\r\n    }\r\n    /**\r\n     * 生成dom\r\n     */\r\n    build() {\r\n        this._gameSquare = new squareFactory_1.default(this._gameMatrix, $('#panel-' + this._user));\r\n        this._gameSquare.build();\r\n        this._nextSquare = new squareFactory_1.default(this._nextMatrix, $('#next-' + this._user));\r\n        this._nextSquare.build();\r\n    }\r\n    /**\r\n     * 刷新dom\r\n     * @param {number} val\r\n     */\r\n    refresh(val) {\r\n        if (val === 1) {\r\n            this._gameSquare.refresh(this._gameMatrix);\r\n        }\r\n        else {\r\n            this._nextSquare.refresh(this._nextMatrix);\r\n        }\r\n    }\r\n    /**\r\n     * 检测是否可以下降\r\n     * @returns {boolean}\r\n     */\r\n    checkDown() {\r\n        //判断下一行是否到底或者有方块\r\n        let result = true;\r\n        this._currentSquare.matrix.forEach((rV, rI) => {\r\n            rV.forEach((cV, cI) => {\r\n                if (!!cV) {\r\n                    const next = this._gameMatrix[this._currentSquare.y + rI + 1] ? this._gameMatrix[this._currentSquare.y + rI + 1][this._currentSquare.x + cI] : -1;\r\n                    if (next === 2 || next === -1) {\r\n                        result = false;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        return result;\r\n    }\r\n    /**\r\n     * 检测是否可以旋转\r\n     * @returns {boolean}\r\n     */\r\n    checkTurn() {\r\n        const matrix = toolkit_1.default.matrix.turnMatrix(this._currentSquare.matrixObj);\r\n        let left = 3; //方块最左侧位置\r\n        let right = 0; //方块最右侧位置\r\n        let has_done = false; //旁边是否有done\r\n        matrix.matrix.forEach((rV, rI) => {\r\n            rV.forEach((cV, cI) => {\r\n                if (cV) {\r\n                    right = cI > right ? cI : right;\r\n                    left = cI < left ? cI : left;\r\n                }\r\n                if (this._gameMatrix[this._currentSquare.y + rI] &&\r\n                    this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI] &&\r\n                    this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI] === 2) {\r\n                    has_done = true;\r\n                }\r\n            });\r\n        });\r\n        //根据是否可以旋转返回矩阵\r\n        if (this._currentSquare.x + left <= 0 || this._currentSquare.x + right >= 9 || has_done) {\r\n            return this._currentSquare.matrixObj;\r\n        }\r\n        else {\r\n            return matrix;\r\n        }\r\n    }\r\n    /**\r\n     *  检测消除\r\n     */\r\n    checkClear() {\r\n        let score_count = 0;\r\n        let done_count = 0;\r\n        this._gameMatrix.forEach((rV, rI) => {\r\n            let count = 0;\r\n            rV.forEach((cV, cI) => {\r\n                if (cV === 2) {\r\n                    count++;\r\n                }\r\n            });\r\n            if (count === 10) {\r\n                score_count++;\r\n                this._gameMatrix.splice(rI, 1);\r\n                this._gameMatrix.unshift(toolkit_1.default.matrix.makeRow(0, 10));\r\n            }\r\n            if (count >= 1) {\r\n                done_count++;\r\n            }\r\n        });\r\n        //判断得分\r\n        switch (score_count) {\r\n            case 1:\r\n                this._score += 10;\r\n                break;\r\n            case 2:\r\n                this._score += 30;\r\n                break;\r\n            case 3:\r\n                this._score += 60;\r\n                break;\r\n            case 4:\r\n                this._score += 100;\r\n                break;\r\n        }\r\n        if (this._score >= 2000) {\r\n            this.onWin();\r\n        }\r\n        //TODO 给对方加速\r\n        //判断游戏结束\r\n        if (done_count >= 19) {\r\n            this.onLose();\r\n        }\r\n        $('#score-' + this._user).text(this._score);\r\n    }\r\n    /**\r\n     * 失败\r\n     */\r\n    onLose() {\r\n        $(\"#lose\").show();\r\n        this._lose = true;\r\n        this._gameOver = true;\r\n        clearInterval(this._timer);\r\n    }\r\n    /**\r\n     * 胜利\r\n     */\r\n    onWin() {\r\n        $(\"#win\").show();\r\n        this._win = true;\r\n        this._gameOver = true;\r\n        clearInterval(this._timer);\r\n    }\r\n    /**\r\n     * 干扰\r\n     */\r\n    disturb(count) {\r\n        for (let i = 0; i < count; i++) {\r\n            this._gameMatrix.shift();\r\n            const arr = Array.from({ length: 10 }, () => Math.random() > 0.5 ? 0 : 2);\r\n            this._gameMatrix.push(arr);\r\n        }\r\n    }\r\n    /**\r\n     * 循环游戏\r\n     */\r\n    loop() {\r\n        this._timer = setInterval(() => {\r\n            if (!this._gameOver && this._start) {\r\n                this.refreshGame();\r\n                this._currentSquare.down();\r\n            }\r\n        }, this._speed);\r\n    }\r\n}\r\nexports.Game = Game;\r\nexports.default = Game;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/ui/game.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 传入二维数组生成 div dom\r\n */\r\nclass SquareFactory {\r\n    constructor(matrix, $contain) {\r\n        this._matrix = matrix;\r\n        this._contain = $contain;\r\n    }\r\n    /**\r\n     * 生成方块dom\r\n     */\r\n    build() {\r\n        this._contain.empty();\r\n        this._matrix.forEach((row, rowIndex) => {\r\n            const rowDiv = $('<div></div>');\r\n            row.forEach((col, colIndex) => {\r\n                const colDiv = $('<div></div>');\r\n                colDiv.addClass('square');\r\n                colDiv.css({ left: colIndex * 30 + 'px', top: rowIndex * 30 + 'px' });\r\n                if (col === 0) {\r\n                    colDiv.addClass('none').removeClass('current').removeClass('done');\r\n                }\r\n                else if (col == 1) {\r\n                    colDiv.addClass('current').removeClass('none').removeClass('done');\r\n                }\r\n                else {\r\n                    colDiv.addClass('done').removeClass('none').removeClass('current');\r\n                }\r\n                rowDiv.append(colDiv);\r\n            });\r\n            this._contain.append(rowDiv);\r\n        });\r\n    }\r\n    /**\r\n     * 刷新方块\r\n     */\r\n    refresh(matrix) {\r\n        matrix.forEach((row, rowIndex) => {\r\n            row.forEach((col, colIndex) => {\r\n                const div = this._contain.find(`div:nth-child(${rowIndex + 1})`).find(`div:nth-child(${colIndex + 1})`);\r\n                if (col === 0) {\r\n                    div.addClass('none').removeClass('current').removeClass('done');\r\n                }\r\n                else if (col == 1) {\r\n                    div.addClass('current').removeClass('none').removeClass('done');\r\n                }\r\n                else {\r\n                    div.addClass('done').removeClass('none').removeClass('current');\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.SquareFactory = SquareFactory;\r\nexports.default = SquareFactory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/ui/squareFactory.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 当前方块解决方案\r\n */\r\nconst toolkit_1 = require(\"../core/toolkit\");\r\nclass Square {\r\n    constructor() {\r\n        this._x = 2;\r\n        this._y = 0;\r\n        this._matrix = this.createMatrix();\r\n        this._nextMatrix = this.createMatrix();\r\n    }\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    get w() {\r\n        return this._matrix.w;\r\n    }\r\n    get h() {\r\n        return this._matrix.h;\r\n    }\r\n    get matrix() {\r\n        return this._matrix.matrix;\r\n    }\r\n    get matrixObj() {\r\n        return this._matrix;\r\n    }\r\n    get nextMatrix() {\r\n        return this._nextMatrix.matrix;\r\n    }\r\n    /**\r\n     * 是否可以左移状态修改接口\r\n     * @param {boolean} able\r\n     */\r\n    set leftWall(able) {\r\n        this._leftWall = able;\r\n    }\r\n    /**\r\n     * 是否可以右移状态修改接口\r\n     * @param {boolean} able\r\n     */\r\n    set rightWall(able) {\r\n        this._rightWall = able;\r\n    }\r\n    /**\r\n     * 下降\r\n     */\r\n    down() {\r\n        this._y++;\r\n    }\r\n    /**\r\n     * 旋转\r\n     */\r\n    turn(game) {\r\n        this._matrix = game.checkTurn();\r\n    }\r\n    /**\r\n     * 左移\r\n     */\r\n    left() {\r\n        if (!this._leftWall) {\r\n            this._x--;\r\n        }\r\n    }\r\n    /**\r\n     * 右移\r\n     */\r\n    right() {\r\n        if (!this._rightWall) {\r\n            this._x++;\r\n        }\r\n    }\r\n    /**\r\n     * 迅速落地\r\n     */\r\n    drop(game) {\r\n        while (game.checkDown()) {\r\n            this._y++;\r\n        }\r\n    }\r\n    /**\r\n     * 落地\r\n     */\r\n    done() {\r\n        this._x = 2;\r\n        this._y = 0;\r\n        this._matrix = this._nextMatrix;\r\n        this._nextMatrix = this.createMatrix();\r\n    }\r\n    /**\r\n     * 生成七种矩阵数据\r\n     */\r\n    createMatrix() {\r\n        const matrixes = [\r\n            {\r\n                matrix: [\r\n                    [1, 1, 1, 1],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 4,\r\n                h: 1\r\n            },\r\n            {\r\n                matrix: [\r\n                    [1, 0, 0, 0],\r\n                    [1, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [0, 0, 1, 0],\r\n                    [1, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [1, 1, 0, 0],\r\n                    [1, 1, 0, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 2,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [0, 1, 1, 0],\r\n                    [1, 1, 0, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [0, 1, 0, 0],\r\n                    [1, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [1, 1, 0, 0],\r\n                    [0, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n        ];\r\n        let matrix = matrixes[Math.floor(Math.random() * 7)];\r\n        if (Math.random() > 0.5) {\r\n            matrix = toolkit_1.default.matrix.turnMatrix(matrix);\r\n        }\r\n        return matrix;\r\n        // return matrixes[3];\r\n    }\r\n}\r\nexports.default = Square;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/core/square.ts"],"sourceRoot":""}