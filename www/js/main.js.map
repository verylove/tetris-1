{"version":3,"sources":["webpack:///webpack/bootstrap ab871b72fa1d5099e16b","webpack:///./src/ts/ui/game.ts","webpack:///./src/ts/core/toolkit.ts","webpack:///./src/ts/main.ts","webpack:///./src/ts/core/local.ts","webpack:///./src/ts/ui/squareFactory.ts","webpack:///./src/ts/core/square.ts","webpack:///./src/ts/core/remote.ts"],"names":["Object","defineProperty","exports","value","squareFactory_1","require","toolkit_1","square_1","Game","user","_user","_speed","_score","$","text","_gameMatrix","default","matrix","makeMatrix","_nextMatrix","_currentSquare","nextMatrix","build","refreshGame","status","left","right","leftWall","rightWall","forEach","rV","rI","cV","cI","checkDown","y","x","checkClear","refresh","done","refreshNext","_gameSquare","_nextSquare","val","result","next","turnMatrix","matrixObj","has_done","score_count","done_count","count","splice","unshift","makeRow","_gameOver","alert","setInterval","down","Toolkit","MatrixToolkit","v","l","arr","Array","fill","l1","l2","from","length","_matrix","w","h","map","local_1","remote_1","local","remote","game_1","Local","_game","init","loop","bindEvent","document","addEventListener","gameover","e","keyCode","currentSquare","turn","drop","SquareFactory","$contain","_contain","row","rowIndex","rowDiv","col","colIndex","colDiv","addClass","css","top","removeClass","append","div","find","Square","_x","_y","createMatrix","game","checkTurn","_leftWall","_rightWall","matrixes","Math","floor","random","able"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ab871b72fa1d5099e16b","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst squareFactory_1 = require(\"./squareFactory\");\r\nconst toolkit_1 = require(\"../core/toolkit\");\r\nconst square_1 = require(\"../core/square\");\r\n/**\r\n * 生成游戏解决方案\r\n */\r\nclass Game {\r\n    constructor(user) {\r\n        this._user = user;\r\n        this._speed = 5000;\r\n    }\r\n    get currentSquare() {\r\n        return this._currentSquare;\r\n    }\r\n    get gameover() {\r\n        return this._gameOver;\r\n    }\r\n    /**\r\n     * 初始化游戏\r\n     */\r\n    init() {\r\n        this._score = 0;\r\n        $('#score-' + this._user).text(this._score);\r\n        this._gameMatrix = toolkit_1.default.matrix.makeMatrix(0, 10, 20);\r\n        this._nextMatrix = toolkit_1.default.matrix.makeMatrix(1, 4, 4);\r\n        this._currentSquare = new square_1.default();\r\n        this._nextMatrix = this._currentSquare.nextMatrix;\r\n        this.build();\r\n        this.refreshGame();\r\n    }\r\n    /**\r\n     * 刷新主体\r\n     */\r\n    refreshGame() {\r\n        let status = 1;\r\n        let left = 3; //方块最左侧位置\r\n        let right = 0; //方块最右侧位置\r\n        this._currentSquare.leftWall = false;\r\n        this._currentSquare.rightWall = false;\r\n        //重置面板\r\n        this._gameMatrix.forEach((rV, rI) => rV.forEach((cV, cI) => {\r\n            if (cV === 1) {\r\n                this._gameMatrix[rI][cI] = 0;\r\n            }\r\n        }));\r\n        if (!this.checkDown()) {\r\n            status = 2;\r\n        }\r\n        //渲染方块所在位置\r\n        this._currentSquare.matrix.forEach((rV, rI) => {\r\n            rV.forEach((cV, cI) => {\r\n                if (cV) {\r\n                    if (this._gameMatrix[this._currentSquare.y + rI]) {\r\n                        this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI] = status;\r\n                    }\r\n                    right = cI > right ? cI : right;\r\n                    left = cI < left ? cI : left;\r\n                    //监测是否出界\r\n                    if ((this._gameMatrix[this._currentSquare.y + rI] &&\r\n                        this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI - 1] &&\r\n                        this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI - 1] === 2) ||\r\n                        this._currentSquare.x + left <= 0) {\r\n                        this._currentSquare.leftWall = true;\r\n                    }\r\n                    if ((this._gameMatrix[this._currentSquare.y + rI] &&\r\n                        this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI + 1] &&\r\n                        this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI + 1] === 2) ||\r\n                        this._currentSquare.x + right >= 9) {\r\n                        this._currentSquare.rightWall = true;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        this.checkClear();\r\n        this.refresh(1);\r\n        if (status === 2) {\r\n            this._currentSquare.done();\r\n            this.refreshNext(this._currentSquare.nextMatrix);\r\n        }\r\n    }\r\n    /**\r\n     * 刷新预览\r\n     * @param {number[][]} nextMatrix\r\n     */\r\n    refreshNext(nextMatrix) {\r\n        this._nextMatrix = nextMatrix;\r\n        this.refresh(2);\r\n    }\r\n    /**\r\n     * 生成dom\r\n     */\r\n    build() {\r\n        this._gameSquare = new squareFactory_1.default(this._gameMatrix, $('#panel-' + this._user));\r\n        this._gameSquare.build();\r\n        this._nextSquare = new squareFactory_1.default(this._nextMatrix, $('#next-' + this._user));\r\n        this._nextSquare.build();\r\n    }\r\n    /**\r\n     * 刷新dom\r\n     * @param {number} val\r\n     */\r\n    refresh(val) {\r\n        if (val === 1) {\r\n            this._gameSquare.refresh(this._gameMatrix);\r\n        }\r\n        else {\r\n            this._nextSquare.refresh(this._nextMatrix);\r\n        }\r\n    }\r\n    /**\r\n     * 检测是否可以下降\r\n     * @returns {boolean}\r\n     */\r\n    checkDown() {\r\n        //判断下一行是否到底或者有方块\r\n        let result = true;\r\n        this._currentSquare.matrix.forEach((rV, rI) => {\r\n            rV.forEach((cV, cI) => {\r\n                if (!!cV) {\r\n                    const next = this._gameMatrix[this._currentSquare.y + rI + 1] ? this._gameMatrix[this._currentSquare.y + rI + 1][this._currentSquare.x + cI] : -1;\r\n                    if (next === 2 || next === -1) {\r\n                        result = false;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        return result;\r\n    }\r\n    /**\r\n     * 检测是否可以旋转\r\n     * @returns {boolean}\r\n     */\r\n    checkTurn() {\r\n        const matrix = toolkit_1.default.matrix.turnMatrix(this._currentSquare.matrixObj);\r\n        let left = 3; //方块最左侧位置\r\n        let right = 0; //方块最右侧位置\r\n        let has_done = false; //旁边是否有done\r\n        matrix.matrix.forEach((rV, rI) => {\r\n            rV.forEach((cV, cI) => {\r\n                if (cV) {\r\n                    right = cI > right ? cI : right;\r\n                    left = cI < left ? cI : left;\r\n                }\r\n                if (this._gameMatrix[this._currentSquare.y + rI] &&\r\n                    this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI] &&\r\n                    this._gameMatrix[this._currentSquare.y + rI][this._currentSquare.x + cI] === 2) {\r\n                    has_done = true;\r\n                }\r\n            });\r\n        });\r\n        //根据是否可以旋转返回矩阵\r\n        if (this._currentSquare.x + left <= 0 || this._currentSquare.x + right >= 9 || has_done) {\r\n            return this._currentSquare.matrixObj;\r\n        }\r\n        else {\r\n            return matrix;\r\n        }\r\n    }\r\n    /**\r\n     *  检测消除\r\n     */\r\n    checkClear() {\r\n        let score_count = 0;\r\n        let done_count = 0;\r\n        this._gameMatrix.forEach((rV, rI) => {\r\n            let count = 0;\r\n            rV.forEach((cV, cI) => {\r\n                if (cV === 2) {\r\n                    count++;\r\n                }\r\n            });\r\n            if (count === 10) {\r\n                score_count++;\r\n                this._gameMatrix.splice(rI, 1);\r\n                this._gameMatrix.unshift(toolkit_1.default.matrix.makeRow(0, 10));\r\n            }\r\n            if (count >= 1) {\r\n                done_count++;\r\n            }\r\n        });\r\n        if (score_count === 4) {\r\n            this._score += 80;\r\n        }\r\n        else {\r\n            this._score += 10 * score_count;\r\n        }\r\n        if (done_count >= 20) {\r\n            this._gameOver = true;\r\n            alert('game over');\r\n        }\r\n        $('#score-' + this._user).text(this._score);\r\n    }\r\n    /**\r\n     * 循环游戏\r\n     */\r\n    loop() {\r\n        setInterval(() => {\r\n            if (!this._gameOver) {\r\n                this.refreshGame();\r\n                this._currentSquare.down();\r\n            }\r\n        }, this._speed);\r\n    }\r\n}\r\nexports.Game = Game;\r\nexports.default = Game;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/ui/game.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Toolkit {\r\n    static get matrix() {\r\n        return MatrixToolkit;\r\n    }\r\n}\r\nexports.Toolkit = Toolkit;\r\n/**\r\n * 生成矩阵工具类\r\n * @type {{}}\r\n */\r\nconst MatrixToolkit = {\r\n    /**\r\n     * 生成一维数组工具\r\n     * @param {number} v  值\r\n     * @param {number} l  长度\r\n     * @returns {number[]}\r\n     */\r\n    makeRow(v = 0, l = 10) {\r\n        const arr = new Array(l);\r\n        arr.fill(v);\r\n        return arr;\r\n    },\r\n    /**\r\n     * 生成二位数组矩阵工具\r\n     * @param {number} v 值\r\n     * @param {number} l1 横向长度\r\n     * @param {number} l2 纵向长度\r\n     * @returns {number[][]}\r\n     */\r\n    makeMatrix(v = 0, l1 = 10, l2 = 20) {\r\n        // const arr = new Array(l2);\r\n        // arr.map(value => this.makeRow(v,l1));\r\n        const arr = Array.from({ length: l2 }, () => this.makeRow(v, l1));\r\n        return arr;\r\n    },\r\n    /**\r\n     * 矩阵顺时针旋转90°解决方案\r\n     * @param {number[][]} matrix\r\n     * @returns {number[][]}\r\n     */\r\n    turnMatrix(matrix) {\r\n        let _matrix = {\r\n            matrix: this.makeMatrix(0, 4, 4),\r\n            w: 0,\r\n            h: 0\r\n        };\r\n        _matrix.matrix = _matrix.matrix.map((rV, rI) => rV.map((cV, cI) => matrix.matrix[3 - cI][rI]));\r\n        _matrix.w = matrix.h;\r\n        _matrix.h = matrix.w;\r\n        return _matrix;\r\n    }\r\n};\r\nexports.default = Toolkit;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/core/toolkit.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst local_1 = require(\"./core/local\");\r\nconst remote_1 = require(\"./core/remote\");\r\nconst local = new local_1.default();\r\nconst remote = new remote_1.default();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/main.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst game_1 = require(\"../ui/game\");\r\nclass Local {\r\n    constructor() {\r\n        this._game = new game_1.default('local');\r\n        this._game.init();\r\n        this._game.loop();\r\n        this.bindEvent();\r\n    }\r\n    /**\r\n     * 绑定键盘事件\r\n     */\r\n    bindEvent() {\r\n        document.addEventListener('keydown', e => {\r\n            if (this._game.gameover) {\r\n                return;\r\n            }\r\n            if (e.keyCode === 38) {\r\n                this._game.currentSquare.turn(this._game);\r\n            }\r\n            else if (e.keyCode === 37) {\r\n                this._game.currentSquare.left();\r\n            }\r\n            else if (e.keyCode === 39) {\r\n                this._game.currentSquare.right();\r\n            }\r\n            else if (e.keyCode === 40) {\r\n                this._game.currentSquare.down();\r\n            }\r\n            else if (e.keyCode === 32) {\r\n                this._game.currentSquare.drop(this._game);\r\n            }\r\n            this._game.refreshGame();\r\n        });\r\n    }\r\n}\r\nexports.default = Local;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/core/local.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 传入二维数组生成 div dom\r\n */\r\nclass SquareFactory {\r\n    constructor(matrix, $contain) {\r\n        this._matrix = matrix;\r\n        this._contain = $contain;\r\n    }\r\n    /**\r\n     * 生成方块dom\r\n     */\r\n    build() {\r\n        this._matrix.forEach((row, rowIndex) => {\r\n            const rowDiv = $('<div></div>');\r\n            row.forEach((col, colIndex) => {\r\n                const colDiv = $('<div></div>');\r\n                colDiv.addClass('square');\r\n                colDiv.css({ left: colIndex * 30 + 'px', top: rowIndex * 30 + 'px' });\r\n                if (col === 0) {\r\n                    colDiv.addClass('none').removeClass('current').removeClass('done');\r\n                }\r\n                else if (col == 1) {\r\n                    colDiv.addClass('current').removeClass('none').removeClass('done');\r\n                }\r\n                else {\r\n                    colDiv.addClass('done').removeClass('none').removeClass('current');\r\n                }\r\n                rowDiv.append(colDiv);\r\n            });\r\n            this._contain.append(rowDiv);\r\n        });\r\n    }\r\n    /**\r\n     * 刷新方块\r\n     */\r\n    refresh(matrix) {\r\n        matrix.forEach((row, rowIndex) => {\r\n            row.forEach((col, colIndex) => {\r\n                const div = this._contain.find(`div:nth-child(${rowIndex + 1})`).find(`div:nth-child(${colIndex + 1})`);\r\n                if (col === 0) {\r\n                    div.addClass('none').removeClass('current').removeClass('done');\r\n                }\r\n                else if (col == 1) {\r\n                    div.addClass('current').removeClass('none').removeClass('done');\r\n                }\r\n                else {\r\n                    div.addClass('done').removeClass('none').removeClass('current');\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.SquareFactory = SquareFactory;\r\nexports.default = SquareFactory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/ui/squareFactory.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 当前方块解决方案\r\n */\r\nconst toolkit_1 = require(\"../core/toolkit\");\r\nclass Square {\r\n    constructor() {\r\n        this._x = 2;\r\n        this._y = 0;\r\n        this._matrix = this.createMatrix();\r\n        this._nextMatrix = this.createMatrix();\r\n    }\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    get w() {\r\n        return this._matrix.w;\r\n    }\r\n    get h() {\r\n        return this._matrix.h;\r\n    }\r\n    get matrix() {\r\n        return this._matrix.matrix;\r\n    }\r\n    get matrixObj() {\r\n        return this._matrix;\r\n    }\r\n    get nextMatrix() {\r\n        return this._nextMatrix.matrix;\r\n    }\r\n    /**\r\n     * 是否可以左移状态修改接口\r\n     * @param {boolean} able\r\n     */\r\n    set leftWall(able) {\r\n        this._leftWall = able;\r\n    }\r\n    /**\r\n     * 是否可以右移状态修改接口\r\n     * @param {boolean} able\r\n     */\r\n    set rightWall(able) {\r\n        this._rightWall = able;\r\n    }\r\n    /**\r\n     * 下降\r\n     */\r\n    down() {\r\n        this._y++;\r\n    }\r\n    /**\r\n     * 旋转\r\n     */\r\n    turn(game) {\r\n        this._matrix = game.checkTurn();\r\n    }\r\n    /**\r\n     * 左移\r\n     */\r\n    left() {\r\n        if (!this._leftWall) {\r\n            this._x--;\r\n        }\r\n    }\r\n    /**\r\n     * 右移\r\n     */\r\n    right() {\r\n        if (!this._rightWall) {\r\n            this._x++;\r\n        }\r\n    }\r\n    /**\r\n     * 迅速落地\r\n     */\r\n    drop(game) {\r\n        while (game.checkDown()) {\r\n            this._y++;\r\n        }\r\n    }\r\n    /**\r\n     * 落地\r\n     */\r\n    done() {\r\n        this._x = 2;\r\n        this._y = 0;\r\n        this._matrix = this._nextMatrix;\r\n        this._nextMatrix = this.createMatrix();\r\n    }\r\n    /**\r\n     * 生成七种矩阵数据\r\n     */\r\n    createMatrix() {\r\n        const matrixes = [\r\n            {\r\n                matrix: [\r\n                    [1, 1, 1, 1],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 4,\r\n                h: 1\r\n            },\r\n            {\r\n                matrix: [\r\n                    [1, 0, 0, 0],\r\n                    [1, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [0, 0, 1, 0],\r\n                    [1, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [1, 1, 0, 0],\r\n                    [1, 1, 0, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 2,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [0, 1, 1, 0],\r\n                    [1, 1, 0, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [0, 1, 0, 0],\r\n                    [1, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n            {\r\n                matrix: [\r\n                    [1, 1, 0, 0],\r\n                    [0, 1, 1, 0],\r\n                    [0, 0, 0, 0],\r\n                    [0, 0, 0, 0]\r\n                ],\r\n                w: 3,\r\n                h: 2\r\n            },\r\n        ];\r\n        let matrix = matrixes[Math.floor(Math.random() * 7)];\r\n        if (Math.random() > 0.5) {\r\n            matrix = toolkit_1.default.matrix.turnMatrix(matrix);\r\n        }\r\n        return matrix;\r\n        // return matrixes[3];\r\n    }\r\n}\r\nexports.default = Square;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/core/square.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst game_1 = require(\"../ui/game\");\r\nclass Local {\r\n    constructor() {\r\n        const game = new game_1.default('remote');\r\n        game.init();\r\n    }\r\n}\r\nexports.default = Local;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/core/remote.ts"],"sourceRoot":""}